
use short dsl

devices {
    crane1 logging:
        pickupDisk: 0
        outRed: 30
        outGreen: 60
        outBlue: 90
    disk1(8):
        craneZone: 1
        cameraZone: 3
        intakeZone: 6
    camera1:
        blue, green, red
}

handle disk1 {	
	foreach slot = complete:
		slot --> craneZone
		crane1 pickup --> pickupDisk
		if var slot = red:
			crane1 drop --> outRed
		if var slot = green:
			crane1 drop --> outGreen
		if var slot = blue:
			crane1 drop --> outBlue
		slot(free)
     
	if dev disk1 != full:
		free slot --> intakeZone
		slot(in_progress)
		slot --> cameraZone
		camera1 scan color
		if var color = red:
			slot(complete, 10m)
		if var color = green:
			slot(complete, 20m)
		if var color = blue:
			slot(complete, 30m)
}

