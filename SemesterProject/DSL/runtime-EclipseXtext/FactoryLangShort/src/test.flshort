
use short dsl

devices {
    crane1:
        pickupDisk: 0
        outRed: 30
        outGreen: 60
        outBlue: 90
    disk1(8):
        craneZone: 1
        cameraZone: 3
        intakeZone: 6
    disk2(4):
    	zone1: 1
    	zone2: 2
    camera1:
        blue, green, red
}

handle disk1 {	
	foreach slot = complete:
		slot --> craneZone
		if var slot = red:
			crane1 drop --> outRed
		if var slot = green:
			crane1 drop --> outGreen
		if var slot = blue:
			crane1 drop --> outBlue
		slot(vacant)
     
	if dev disk1 != full:
       	vacant slot --> intakeZone
        slot(in_progress)
        slot --> cameraZone
        camera1 scan color
        if var color = red:
            slot(complete, 10s)
        if var color = green:
            slot(complete, 20m)
        if var color = blue:
            slot(complete, 30h)
}

handle disk2 {
	foreach slot = complete:
		slot --> zone1
}